% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_anomaly_scores.R
\name{create_anomaly_scores}
\alias{create_anomaly_scores}
\title{Create Comprehensive Anomaly Scores by Country and Year}
\usage{
create_anomaly_scores(data)
}
\arguments{
\item{data}{A data frame or tibble containing VMS data with various columns required
for calculating quality metrics.}
}
\value{
A tibble containing various data quality metrics and composite anomaly scores
for each country and year combination. Additionally, a line plot visualisation of the
overall anomaly scores over time is displayed.
}
\description{
This function calculates composite anomaly scores for VMS data quality across different
countries and years, based on multiple quality metrics related to missing data and
suspicious values.
}
\details{
The function calculates two categories of data quality metrics:
\enumerate{
\item Missing data percentages for key variables:
\itemize{
\item Fishing speed
\item Gear width
\item Vessel power (kW)
\item Vessel length (OAL)
\item Habitat type
\item Depth range
\item Swept area
}
\item Suspicious values percentages:
\itemize{
\item Zero fishing hours
\item Unusually large fishing hours (>24 hours)
\item Suspicious gear width (very large or negative)
\item Suspicious vessel length (very large or negative)
\item Suspicious vessel power (very large or negative)
}
}

These metrics are then combined into composite scores:
\itemize{
\item Missing data score (weighted average of missing data percentages)
\item Suspicious value score (weighted average of suspicious value percentages)
\item Overall anomaly score (weighted combination of the above two scores)
}

A line plot visualises the overall anomaly scores over time for each country, allowing
for easy identification of data quality trends and problematic country-year combinations.

This comprehensive quality scoring is valuable for prioritizing data cleaning efforts,
identifying systematic issues in data reporting, and providing context for interpreting
analysis results.
}
\note{
The function assumes the presence of numerous columns in the input dataset, including
'country', 'year', 'avg_fishing_speed', 'avg_gearWidth', 'avg_kw', 'avg_oal', 'HabitatType',
'DepthRange', 'SweptArea', and 'fishing_hours'.
The function requires the dplyr and ggplot2 packages.
The overall anomaly score is calculated with a 70\% weight for missing data and 30\% for
suspicious values, reflecting the relative importance of data completeness.
}
\examples{
# This function works best with a comprehensive VMS dataset
# containing all the required columns for quality assessment
# anomaly_metrics <- create_anomaly_scores(vms_data)

}
